var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&l(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&l(e,a,t[a]);return e};import{o as r,c as u,r as c,w as d,a as m,t as p,b as h,d as f,e as g,f as v,g as b,h as y,F as w,v as k,i as C,j as _,T as $,V as S,s as T,k as q,l as O,m as x,_ as A,A as P,n as H}from"./vendor.b2e81afb.js";const U={name:"App"};U.render=function(e,t,a,n,o,s){const l=c("router-view");return r(),u(l)};const L={};L.render=function(e,t){const a=c("router-view"),n=c("lo-default");return r(),u(n,null,{default:d((()=>[m(a)])),_:1})};const j={name:"AuthLoginRegisterForm",props:{title:String,res:Object},data:()=>({xdata:{type:"",message:""},prompt:!1}),methods:{submit(e){const t={},a=e.srcElement.getElementsByTagName("input");for(let n=0;n<a.length;n++)if("submit"!=a[n].type){const e=a[n].name,o=a[n].value;t[e]=o}this.prompt=!1,this.$emit("onSubmit",t)},resHandler(e){this.xdata=e,this.prompt=!0,window.scrollTo({top:0,behavior:"smooth"})}},watch:{res:{handler:"resHandler",immediate:!0}}},B={class:"p-auth"},D={key:0,class:"prompts"},E={class:"inputs"},V=m("hr",null,null,-1),F={class:"notes"};j.render=function(e,t,a,n,o,s){return r(),u("div",B,[m("h1",null,p(a.title),1),m("form",{onSubmit:t[2]||(t[2]=g(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[a.res&&a.res.type?(r(),u("div",D,[m("div",{type:a.res.type,class:e.prompt?"":"out"},[m("div",null,p(a.res.message),1),m("i",{class:"fa fa-times-circle",onClick:t[1]||(t[1]=t=>e.prompt=!1),"aria-hidden":"true"})],10,["type"])])):h("",!0),m("div",E,[f(e.$slots,"form")])],32),V,m("div",F,[f(e.$slots,"notes")])])};const M={components:{AuthForm:j},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},N=m("div",null,[m("label",null,"Username"),m("input",{type:"text",name:"user",autocomplete:"email",required:""})],-1),R=m("div",null,[m("label",null,"Password"),m("input",{type:"password",name:"pass",autocomplete:"",required:""})],-1),W={type:"submit",value:"Authenticate"},I=y(" By logging in, you agree to our "),z=y("Terms and Agreements"),G=y(" Do not have an account? "),J=y("Register");M.render=function(e,t,a,n,o,s){const l=c("router-link"),i=c("auth-form"),p=v("btnload");return r(),u(i,{title:"Login",onOnSubmit:e.authFormLogin,res:e.serv},{form:d((()=>[N,R,m("div",null,[b(m("button",W,null,512),[[p,e.loading]])])])),notes:d((()=>[m("p",null,[I,m(l,{to:"/"},{default:d((()=>[z])),_:1})]),m("p",null,[G,m(l,{to:"/register"},{default:d((()=>[J])),_:1})])])),_:1},8,["onOnSubmit","res"])};const K={components:{AuthForm:j},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},Q=m("div",null,[m("label",null,"Name"),m("input",{type:"text",name:"name",required:""})],-1),X=m("div",null,[m("label",null,"Username"),m("input",{type:"text",name:"user",required:""})],-1),Y=m("div",null,[m("label",null,"Email"),m("input",{type:"email",name:"email",required:""})],-1),Z=m("div",null,[m("label",null,"Phone"),m("input",{type:"tel",name:"phone",required:""})],-1),ee=m("div",null,[m("label",null,"Password"),m("input",{type:"password",name:"pass",autocomplete:"",required:""})],-1),te=m("div",null,[m("label",null,"Confirm Password"),m("input",{type:"password",name:"cpass",autocomplete:"",required:""})],-1),ae={type:"submit",value:"Create Account"},ne=y(" By creating an account, you agree to our "),oe=y("Terms and Agreements"),se=y(" Already have an account? "),le=y("Login");K.render=function(e,t,a,n,o,s){const l=c("router-link"),i=c("auth-form"),p=v("btnload");return r(),u(i,{title:"Register",onOnSubmit:e.authFormRegister,res:e.serv},{form:d((()=>[Q,X,Y,Z,ee,te,m("div",null,[b(m("button",ae,null,512),[[p,e.loading]])])])),notes:d((()=>[m("p",null,[ne,m(l,{to:"/"},{default:d((()=>[oe])),_:1})]),m("p",null,[se,m(l,{to:"/login"},{default:d((()=>[le])),_:1})])])),_:1},8,["onOnSubmit","res"])};const ie={methods:{logoutBtn(){this.resetStore(),this.$router.push("/")},cancelBtn(){this.$router.go(-1)}}};ie.render=function(e,t,a,n,o,s){const l=c("confirm-dialog");return r(),u(l,{title:"Logout",message:"Are you sure you want to logout?",onOnConfirm:s.logoutBtn,onOnClose:s.cancelBtn,onOnCancel:s.cancelBtn},null,8,["onOnConfirm","onOnClose","onOnCancel"])};const re={};re.render=function(e,t){const a=c("router-view"),n=c("lo-user");return r(),u(n,null,{default:d((()=>[m(a)])),_:1})};const ue={async created(){const e=await this.$tuos.auth.userMe();console.log(e)}},ce=m("h1",null,"Home sweet home",-1),de=m("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium nesciunt iure suscipit cupiditate magni voluptatibus quod ab quisquam impedit adipisci esse laboriosam, error vel cumque est earum officia quae. Eius repellat eum, nesciunt magni, eos quia reiciendis, a praesentium hic ab exercitationem deserunt minima repudiandae consequuntur vero error. Totam at, culpa, dolorem ab distinctio porro animi, voluptate quo id molestias inventore ratione? Accusantium esse cum, aperiam animi maiores excepturi enim. Laboriosam placeat voluptas tempore facilis rem veritatis sequi quae possimus.",-1);ue.render=function(e,t,a,n,o,s){const l=c("wf1-sidebar-item"),i=c("wf1-sidebar"),p=c("wf1-main");return r(),u(w,null,[m(i,null,{default:d((()=>[m(l,{to:"/home",icon:"fa fa-home",name:"Home"})])),_:1}),m(p,null,{default:d((()=>[ce,de])),_:1})],64)};const me={};me.render=function(e,t){const a=c("wf1-sidebar-item"),n=c("wf1-sidebar"),o=c("router-view"),s=c("wf1-main");return r(),u(w,null,[m(n,null,{default:d((()=>[m(a,{to:"/settings",icon:"fa fa-user",name:"Edit Profile"}),m(a,{to:"/home",icon:"fa fa-home",name:"Home"})])),_:1}),m(s,null,{default:d((()=>[m(o)])),_:1})],64)};const pe={data:()=>({isComponentLoading:!0,loading:!1,odata:{name:"",user:"",email:"",phone:""},data:{name:"",user:"",email:"",phone:"",pass:"",cpass:""},opass:"",serv:{type:"",message:""}}),async created(){this.odata=await this.$tuos.auth.userMe(),console.log(this.odata),this.data=this.odata}},he={class:"form-container"},fe={class:"inputs-container"},ge=m("label",{for:"name"},"Name",-1),ve=m("label",{for:"name"},"Username",-1),be=m("label",{for:"name"},"Email",-1),ye=m("label",{for:"name"},"Phone",-1),we=m("label",{for:"pass"},"New Password",-1),ke=m("label",{for:"pass"},"Confirm New Password",-1);pe.render=function(e,t,a,n,o,s){const l=v("btnload");return r(),u("form",he,[m("div",fe,[ge,b(m("input",{type:"text",name:"name","onUpdate:modelValue":t[1]||(t[1]=t=>e.data.name=t),disabled:e.loading},null,8,["disabled"]),[[k,e.data.name]]),ve,b(m("input",{type:"text",name:"user","onUpdate:modelValue":t[2]||(t[2]=t=>e.data.user=t),disabled:e.loading},null,8,["disabled"]),[[k,e.data.user]]),be,b(m("input",{type:"email",name:"email","onUpdate:modelValue":t[3]||(t[3]=t=>e.data.email=t),disabled:e.loading},null,8,["disabled"]),[[k,e.data.email]]),ye,b(m("input",{type:"text",name:"phone","onUpdate:modelValue":t[4]||(t[4]=t=>e.data.phone=t),disabled:e.loading},null,8,["disabled"]),[[k,e.data.phone]]),we,b(m("input",{type:"password",name:"pass","onUpdate:modelValue":t[5]||(t[5]=t=>e.data.pass=t),disabled:e.loading,autocomplete:""},null,8,["disabled"]),[[k,e.data.pass]]),ke,b(m("input",{type:"password",name:"cpass","onUpdate:modelValue":t[6]||(t[6]=t=>e.data.cpass=t),disabled:e.loading,autocomplete:""},null,8,["disabled"]),[[k,e.data.cpass]]),b(m("button",{type:"submit",onClick:t[7]||(t[7]=t=>e.loading=!e.loading),value:"SAVE"},null,512),[[l,e.loading]])])])};const Ce={components:{BasicInfo:pe}},_e=m("div",{class:"title"},"Edit Profile",-1);Ce.render=function(e,t,a,n,o,s){const l=c("basic-info");return r(),u("div",null,[_e,m(l)])};const $e={},Se={class:"p-user-profile"},Te=m("h1",null,"User Profile",-1);$e.render=function(e,t){return r(),u("div",Se,[Te])};const qe=C({history:_(),routes:[{path:"/",component:L,children:[{path:"",component:M},{path:"login",component:M},{path:"register",component:K},{path:"logout",component:ie}]},{path:"/user",component:re,children:[{path:"/me",component:$e},{path:"/home",component:ue},{path:"/settings",component:me,children:[{path:"",component:Ce}]}]}]}),Oe={name:"defaultLayout"},xe={class:"lo-default"};Oe.render=function(e,t,a,n,o,s){return r(),u("div",xe,[f(e.$slots,"default")])};const Ae={name:"layoutUser"};Ae.render=function(e,t,a,n,o,s){const l=c("wf1-header"),i=c("wf1-container");return r(),u(w,null,[m(l),m(i,null,{default:d((()=>[f(e.$slots,"default")])),_:3})],64)};var Pe={install:e=>{e.component("lo-default",Oe),e.component("lo-user",Ae)}};const He={props:{ConfirmText:{type:String,default:"Confirm"},CancelText:{type:String,default:"Cancel"},title:{type:String,default:"Confirm"},message:{type:String,default:"Are you sure?"}},data:()=>({dialog:!0}),methods:{closeDialog(){this.$emit("onClose"),this.dialog=!1},cancelDialog(){this.$emit("onCancel"),this.dialog=!1},confirmDialog(){this.$emit("onConfirm"),this.dialog=!1}}},Ue={key:0,class:"c-confirm-dialog-container"},Le={class:"dialog"},je={class:"title"},Be={class:"message"},De={class:"actions"};He.render=function(e,t,a,n,o,s){return e.dialog?(r(),u("dialog",Ue,[m("div",Le,[m("div",je,[m("span",null,p(a.title),1),m("button",{onClick:t[1]||(t[1]=(...e)=>s.cancelDialog&&s.cancelDialog(...e))},"x")]),m("div",Be,p(a.message),1),m("div",De,[m("button",{onClick:t[2]||(t[2]=(...e)=>s.cancelDialog&&s.cancelDialog(...e))},p(a.CancelText),1),m("button",{onClick:t[3]||(t[3]=(...e)=>s.confirmDialog&&s.confirmDialog(...e))},p(a.ConfirmText),1)])])])):h("",!0)};var Ee={install:e=>{e.component("confirm-dialog",He)}},Ve=(e,t)=>{var a;const n=null!=(a=t.value)&&a;e.innerHTML=n?'<i class="fa fa-spinner fa-spin"></i>':e.value,n?e.setAttribute("disabled",!0):e.removeAttribute("disabled")},Fe={install:(e,t)=>{e.directive("btnload",Ve)}};const Me={name:"Wf1Header",data:()=>({menu:!1})},Ne={wf1:""},Re={class:"header"},We={class:"brand__group"},Ie=m("li",{class:"search"},[m("form",{action:"/search"},[m("input",{type:"text",placeholder:"Search",name:"q"}),m("button",{type:"submit"},[m("i",{class:"fa fa-search"})])])],-1),ze={class:"main__navi"},Ge=m("i",{class:"fa fa-home"},null,-1),Je=m("i",{class:"fa fa-cog"},null,-1),Ke=m("i",{class:"fa fa-caret-down"},null,-1),Qe={class:"menu-content"},Xe={class:"match-width"},Ye={class:"items"},Ze=m("i",{class:"fa fa-user-circle"},null,-1),et=m("span",null,"Profile",-1),tt=m("i",{class:"fa fa-sign-out"},null,-1),at=m("span",null,"Logout",-1);Me.render=function(e,t,a,n,o,s){const l=c("router-link");return r(),u($,{to:"#header"},[m("header",Ne,[m("div",Re,[f(e.$slots,"default",{},(()=>[m("ul",We,[m("li",{class:"title",onClick:t[1]||(t[1]=(...t)=>e.gotoHome&&e.gotoHome(...t))},"Tuos"),Ie]),m("ul",ze,[m("li",null,[m(l,{to:"/home",onClick:t[2]||(t[2]=t=>e.menu=!1)},{default:d((()=>[Ge])),_:1})]),m("li",null,[m(l,{to:"/settings",onClick:t[3]||(t[3]=t=>e.menu=!1)},{default:d((()=>[Je])),_:1})]),m("li",null,[m("div",{class:"menu",active:e.menu},[m("a",{href:"#",class:"toggle-menu",onClick:t[4]||(t[4]=t=>e.menu=!e.menu)},[Ke]),m("div",Qe,[m("div",Xe,[m("div",Ye,[m(l,{to:"/me",class:"item",onClick:t[5]||(t[5]=t=>e.menu=!e.menu)},{default:d((()=>[Ze,et])),_:1}),m(l,{to:"/logout",class:"item"},{default:d((()=>[tt,at])),_:1})])])])],8,["active"])])])]))])])])};const nt={name:"Wf1Content"},ot={"wf1-container":""},st={class:"main"},lt={class:"content"};nt.render=function(e,t,a,n,o,s){return r(),u("div",ot,[m("div",st,[m("div",lt,[f(e.$slots,"default")])])])};const it={name:"Wf1SidebarItem",props:{to:String|Object,icon:{type:String,default:"fa fa-home"},name:{type:String,default:"Link"}}};it.render=function(e,t,a,n,o,s){const l=c("router-link");return r(),u(l,{to:a.to},{default:d((()=>[f(e.$slots,"default",{},(()=>[m("i",{class:a.icon},null,2),m("span",null,p(a.name),1)]))])),_:3},8,["to"])};const rt={},ut={class:"sidebar"};rt.render=function(e,t){return r(),u("div",ut,[f(e.$slots,"default")])};const ct={name:"Wf1Main"},dt={class:"main-activity"};ct.render=function(e,t,a,n,o,s){return r(),u("div",dt,[f(e.$slots,"default")])};const mt={name:"Wf1"},pt={class:"lo-user-container","lo-user":""},ht={class:"header"},ft={class:"brand__group"},gt=m("li",{class:"search"},[m("form",{action:""},[m("input",{type:"text",placeholder:"Search",name:"q"}),m("button",{type:"submit"},[m("i",{class:"fa fa-search"})])])],-1),vt={class:"main__navi"},bt=m("i",{class:"fa fa-home"},null,-1),yt=m("i",{class:"fa fa-cog"},null,-1),wt=m("i",{class:"fa fa-caret-down"},null,-1),kt={class:"menu-content"},Ct={class:"match-width"},_t={class:"items"},$t=m("i",{class:"fa fa-user-circle"},null,-1),St=m("span",null,"Profile",-1),Tt=m("i",{class:"fa fa-sign-out"},null,-1),qt=m("span",null,"Logout",-1),Ot={class:"lo-user-container"},xt={class:"main"};mt.render=function(e,t,a,n,o,s){const l=c("router-link");return r(),u(w,null,[(r(),u($,{to:"#header"},[m("header",pt,[m("div",ht,[m("ul",ft,[m("li",{class:"title",onClick:t[1]||(t[1]=(...t)=>e.gotoHome&&e.gotoHome(...t))},"Tuos"),gt]),m("ul",vt,[m("li",null,[m(l,{to:"/home",onClick:t[2]||(t[2]=t=>e.menu=!1)},{default:d((()=>[bt])),_:1})]),m("li",null,[m(l,{to:"/settings",onClick:t[3]||(t[3]=t=>e.menu=!1)},{default:d((()=>[yt])),_:1})]),m("li",null,[m("div",{class:"menu",active:e.menu},[m("a",{href:"#",class:"toggle-menu",onClick:t[4]||(t[4]=t=>e.menu=!e.menu)},[wt]),m("div",kt,[m("div",Ct,[m("div",_t,[m(l,{to:"/me",class:"item",onClick:t[5]||(t[5]=t=>e.menu=!e.menu)},{default:d((()=>[$t,St])),_:1}),m(l,{to:"/logout",class:"item"},{default:d((()=>[Tt,qt])),_:1})])])])],8,["active"])])])])])])),m("div",Ot,[m("div",xt,[f(e.$slots,"default")])])],64)};var At={install:e=>{e.component("wf1-header",Me),e.component("wf1-container",nt),e.component("wf1-sidebar-item",it),e.component("wf1-sidebar",rt),e.component("wf1-main",ct),e.component("wf1",mt)}},Pt={install:(e,t)=>{e.use(At)}};const Ht=new S({storage:window.localStorage}),Ut=T.get("vuex")||{},Lt={accessToken:"",authenticated:!1};var jt={store:q({plugins:[O(),Ht.plugin],state:(()=>{const e={};for(let t in Lt)e[t]=Ut[t]||Lt[t];return e})(),mutations:(()=>{const e={};for(let t in Lt)e[t]=(e,a)=>{e[t]=a};return e})()}),state:Lt};var Bt={proto:function(e){const{host:t}=e,a={login:"/api/auth/login",register:"/api/auth/register",userMe:"/api/user"},n=e=>t+a[e];return{login:async(e={})=>{const t={method:"POST",url:n("login"),headers:{"content-type":"application/json"},data:e};return await P.request(t).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},register:async(e={})=>{const t={method:"POST",url:n("register"),headers:{"content-type":"application/json"},data:e};return await P.request(t).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},userMe:async()=>{const e=T.get("vuex").accessToken||"",t={method:"GET",url:n("userMe"),headers:{authorization:"Bearer "+e}};return await P.request(t).then((e=>e.data)).catch((e=>({type:"error",message:"Unknown error occur.",e:e})))}}},mixin:{computed:i({},x(["accessToken","authenticated"])),methods:{accessTokenHandler(){},accessTokenValidateChange(e){e&&"string"==typeof e&&e.length>0?this.$store.commit("authenticated",!0):this.$store.commit("authenticated",!1)},onAuthStateChanged(){},resetStore(){T.clearAll();const e=jt.state;for(let t in e)this.$store.commit(t,e[t])},async authFormLogin(e){this.loading=!0,await this.$tuos.auth.login(e).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))},async authFormRegister(e){Boolean(e.pass)&&Boolean(e.cpass)&&e.pass==e.cpass?(this.loading=!0,await this.$tuos.auth.register(A.omit(e,["cpass"])).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))):this.serv={type:"error",message:"Password doesn't match"}},gotoHome(){try{window.location.href="/"}catch{this.$router.push("/")}}},watch:{accessToken:{handler:"accessTokenHandler",immediate:!0},accessToken:{handler:"accessTokenValidateChange",immediate:!0},authenticated:{handler:"onAuthStateChanged",immediate:!0}}}},Dt={install:(e,n)=>{const o=n.host||"",s=n.devHost||o,l=o;var r;r=i({},n),n=t(r,a({prodHost:o,devHost:s,host:l})),e.config.globalProperties.$tuos={auth:Bt.proto(n)},e.mixin(Bt.mixin)}};const Et=H(U);Et.use(jt.store),Et.use(qe),Et.use(Ee),Et.use(Pe),Et.use(Fe),Et.use(Pt),Et.use(Dt,{devHost:"http://localhost:8080"}),Et.mount("#app");
