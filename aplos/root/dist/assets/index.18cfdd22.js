var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&r(e,a,t[a]);if(n)for(var a of n(t))o.call(t,a)&&r(e,a,t[a]);return e};import{o as i,c as u,r as c,w as d,a as m,t as p,b as h,d as f,e as g,f as v,g as y,h as b,F as w,p as k,i as S,j as C,v as $,m as _,k as x,l as D,T as O,V as P,s as A,n as T,q as U,_ as q,A as H,u as F}from"./vendor.c42aaf0e.js";const B={name:"App"};B.render=function(e,t,a,n,s,o){const r=c("router-view");return i(),u(r)};const E={};E.render=function(e,t){const a=c("router-view"),n=c("lo-default");return i(),u(n,null,{default:d((()=>[m(a)])),_:1})};const L={name:"AuthLoginRegisterForm",props:{title:String,res:Object},data:()=>({xdata:{type:"",message:""},prompt:!1}),methods:{submit(e){const t={},a=e.srcElement.getElementsByTagName("input");for(let n=0;n<a.length;n++)if("submit"!=a[n].type){const e=a[n].name,s=a[n].value;t[e]=s}this.prompt=!1,this.$emit("onSubmit",t)},resHandler(e){this.xdata=e,this.prompt=!0,window.scrollTo({top:0,behavior:"smooth"})}},watch:{res:{handler:"resHandler",immediate:!0}}},j={class:"p-auth"},V={key:0,class:"prompts"},I={class:"inputs"},R=m("hr",null,null,-1),N={class:"notes"};L.render=function(e,t,a,n,s,o){return i(),u("div",j,[m("h1",null,p(a.title),1),m("form",{onSubmit:t[2]||(t[2]=g(((...e)=>o.submit&&o.submit(...e)),["prevent"]))},[a.res&&a.res.type?(i(),u("div",V,[m("div",{type:a.res.type,class:e.prompt?"":"out"},[m("div",null,p(a.res.message),1),m("i",{class:"fa fa-times-circle",onClick:t[1]||(t[1]=t=>e.prompt=!1),"aria-hidden":"true"})],10,["type"])])):h("",!0),m("div",I,[f(e.$slots,"form")])],32),R,m("div",N,[f(e.$slots,"notes")])])};const W={components:{AuthForm:L},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},M=m("div",null,[m("label",null,"Username"),m("input",{type:"text",name:"user",autocomplete:"email",required:""})],-1),z=m("div",null,[m("label",null,"Password"),m("input",{type:"password",name:"pass",autocomplete:"",required:""})],-1),G={type:"submit",value:"Authenticate"},Y=b(" By logging in, you agree to our "),J=b("Terms and Agreements"),K=b(" Do not have an account? "),Q=b("Register");W.render=function(e,t,a,n,s,o){const r=c("router-link"),l=c("auth-form"),p=v("btnload");return i(),u(l,{title:"Login",onOnSubmit:e.authFormLogin,res:e.serv},{form:d((()=>[M,z,m("div",null,[y(m("button",G,null,512),[[p,e.loading]])])])),notes:d((()=>[m("p",null,[Y,m(r,{to:"/"},{default:d((()=>[J])),_:1})]),m("p",null,[K,m(r,{to:"/register"},{default:d((()=>[Q])),_:1})])])),_:1},8,["onOnSubmit","res"])};const X={components:{AuthForm:L},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},Z=m("div",null,[m("label",null,"Name"),m("input",{type:"text",name:"name",required:""})],-1),ee=m("div",null,[m("label",null,"Username"),m("input",{type:"text",name:"user",required:""})],-1),te=m("div",null,[m("label",null,"Email"),m("input",{type:"email",name:"email",required:""})],-1),ae=m("div",null,[m("label",null,"Phone"),m("input",{type:"tel",name:"phone",required:""})],-1),ne=m("div",null,[m("label",null,"Password"),m("input",{type:"password",name:"pass",autocomplete:"",required:""})],-1),se=m("div",null,[m("label",null,"Confirm Password"),m("input",{type:"password",name:"cpass",autocomplete:"",required:""})],-1),oe={type:"submit",value:"Create Account"},re=b(" By creating an account, you agree to our "),le=b("Terms and Agreements"),ie=b(" Already have an account? "),ue=b("Login");X.render=function(e,t,a,n,s,o){const r=c("router-link"),l=c("auth-form"),p=v("btnload");return i(),u(l,{title:"Register",onOnSubmit:e.authFormRegister,res:e.serv},{form:d((()=>[Z,ee,te,ae,ne,se,m("div",null,[y(m("button",oe,null,512),[[p,e.loading]])])])),notes:d((()=>[m("p",null,[re,m(r,{to:"/"},{default:d((()=>[le])),_:1})]),m("p",null,[ie,m(r,{to:"/login"},{default:d((()=>[ue])),_:1})])])),_:1},8,["onOnSubmit","res"])};const ce={methods:{logoutBtn(){this.resetStore(),this.$router.push("/")},cancelBtn(){this.$router.go(-1)}}};ce.render=function(e,t,a,n,s,o){const r=c("confirm-dialog");return i(),u(r,{title:"Logout",message:"Are you sure you want to logout?",onOnConfirm:o.logoutBtn,onOnClose:o.cancelBtn,onOnCancel:o.cancelBtn},null,8,["onOnConfirm","onOnClose","onOnCancel"])};const de={};de.render=function(e,t){const a=c("router-view"),n=c("lo-user");return i(),u(n,null,{default:d((()=>[m(a)])),_:1})};const me={},pe=m("h1",null,"Home sweet home",-1),he=m("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium nesciunt iure suscipit cupiditate magni voluptatibus quod ab quisquam impedit adipisci esse laboriosam, error vel cumque est earum officia quae. Eius repellat eum, nesciunt magni, eos quia reiciendis, a praesentium hic ab exercitationem deserunt minima repudiandae consequuntur vero error. Totam at, culpa, dolorem ab distinctio porro animi, voluptate quo id molestias inventore ratione? Accusantium esse cum, aperiam animi maiores excepturi enim. Laboriosam placeat voluptas tempore facilis rem veritatis sequi quae possimus.",-1);me.render=function(e,t){const a=c("wf1-sidebar-item"),n=c("wf1-sidebar"),s=c("wf1-main");return i(),u(w,null,[m(n,null,{default:d((()=>[m(a,{to:"/home",icon:"fa fa-home",name:"Home"})])),_:1}),m(s,null,{default:d((()=>[pe,he])),_:1})],64)};const fe={methods:{async onAuthStateChanged(e){e?await this.fetchUserData():this.$router.push("/")}}};fe.render=function(e,t,a,n,s,o){const r=c("wf1-sidebar-item"),l=c("wf1-sidebar"),p=c("router-view"),h=c("wf1-main");return i(),u(w,null,[m(l,null,{default:d((()=>[m(r,{to:"/settings",icon:"fa fa-user-circle",name:"Profile"}),m(r,{to:"/settings/bindings",icon:"fa fa-chain",name:"Bindings"}),m(r,{to:"/settings/password",icon:"fa fa-key",name:"Password"})])),_:1}),m(h,null,{default:d((()=>[m(p)])),_:1})],64)};const ge={props:{ConfirmText:{type:String,default:"Confirm"},CancelText:{type:String,default:"Cancel"},title:{type:String,default:"Confirm"},message:{type:String,default:"Are you sure?"}},data:()=>({dialog:!0}),methods:{closeDialog(){this.$emit("onClose"),this.dialog=!1}}},ve=C("data-v-39e33d4a");k("data-v-39e33d4a");const ye={key:0,class:"dialog-container"},be={class:"dialog"},we={class:"header"},ke={class:"body"};S();const Se=ve(((e,t,a,n,s,o)=>e.dialog?(i(),u("dialog",ye,[m("div",be,[f(e.$slots,"header",{},(()=>[m("div",we,[m("span",null,p(a.title),1),m("i",{class:"fa fa-times",onClick:t[1]||(t[1]=(...e)=>o.closeDialog&&o.closeDialog(...e))})])]),{}),f(e.$slots,"default",{},(()=>[m("div",ke,p(a.message),1)]),{})])])):h("",!0)));ge.render=Se,ge.__scopeId="data-v-39e33d4a";const Ce={name:"SettingsUpdateProfileBaseForm",components:{CustomDialog:ge},props:{loading:Boolean},created(){this.formID=Date.now()},data:()=>({formID:"",pass:"",dialog:!1}),methods:{submit(e){const t={},a=(()=>document.querySelector("#cd-"+this.formID).querySelectorAll("input"))();this.dialog=!1;for(let n=0;n<a.length;n++)if("submit"!=a[n].type){const e=a[n].name,s=a[n].value;t[e]=s}this.$emit("onSubmit",t)}}},$e={class:"c-retype-pass"},_e=m("div",{class:"message"}," You must re-enter your current password to proceed. ",-1),xe={class:"diag-form"},De=m("label",null,"Current Password",-1),Oe={class:"inputs-container"};Ce.render=function(e,t,a,n,s,o){const r=c("custom-dialog"),l=v("btnload");return i(),u("form",{class:"form-container",onSubmit:t[4]||(t[4]=g((t=>e.dialog=!0),["prevent"])),id:`cd-${e.formID}`},[e.dialog?(i(),u(r,{key:0,onOnClose:t[3]||(t[3]=t=>e.dialog=!1),title:"Checkpoint"},{default:d((()=>[m("div",$e,[_e,m("div",xe,[De,y(m("input",{type:"password",name:"pass","onUpdate:modelValue":t[1]||(t[1]=t=>e.pass=t)},null,512),[[$,e.pass]]),y(m("button",{type:"submit",value:"Submit",onClick:t[2]||(t[2]=(...e)=>o.submit&&o.submit(...e))},null,512),[[l,a.loading]])])])])),_:1})):h("",!0),m("div",Oe,[f(e.$slots,"default")])],40,["id"])};const Pe={name:"SettingsEditProfileForm",components:{BaseForm:Ce},data:()=>({loading:!1,odata:{},data:{name:"",user:""},serv:{type:"",message:""}}),computed:l({},_(["userdata","userdataState"])),methods:{check(e){e=this.$tuos.auth.filterUpdateData(this.odata,e),this.loading=!0,this.$tuos.auth.update(e).then((e=>{this.serv=e})).catch((e=>{this.serv=e})).finally((async()=>{await this.fetchUserData(),this.loading=!1}))},userdataHandler(e){this.odata=e,this.data.user=e.user,this.data.name=e.name}},watch:{userdata:{handler:"userdataHandler",immediate:!0}}},Ae=m("label",null,"Name",-1),Te=m("label",null,"Username",-1),Ue={type:"submit",value:"SAVE"};Pe.render=function(e,t,a,n,s,o){const r=c("server-response-handler"),l=c("base-form"),p=c("userdata-skeleton-loader"),f=v("btnload");return i(),u(w,null,["success"==e.userdataState?(i(),u(l,{key:0,onOnSubmit:o.check,res:e.serv},{default:d((()=>[Ae,y(m("input",{type:"text",name:"name","onUpdate:modelValue":t[1]||(t[1]=t=>e.data.name=t),disabled:e.loading},null,8,["disabled"]),[[$,e.data.name]]),Te,y(m("input",{type:"text",name:"user","onUpdate:modelValue":t[2]||(t[2]=t=>e.data.user=t),disabled:e.loading},null,8,["disabled"]),[[$,e.data.user]]),m(r,{res:e.serv},null,8,["res"]),y(m("button",Ue,null,512),[[f,e.loading]])])),_:1},8,["onOnSubmit","res"])):h("",!0),m(p,{"extend-class":"auto-container"})],64)};const qe={components:{EpForm:Pe}},He=m("div",{class:"title"},"Edit Profile",-1);qe.render=function(e,t,a,n,s,o){const r=c("ep-form");return i(),u("div",null,[He,m(r)])};const Fe={name:"SettingsEditProfileForm",components:{BaseForm:Ce},data:()=>({loading:!1,serv:{type:"",message:""}}),computed:l({},_(["userdata","userdataState"])),methods:{check(e){e.npass!=e.cnpass||e.npass.length<6?this.serv={type:"error",message:"Invalid"}:(e=this.$tuos.auth.filterUpdatePasswordData(e),this.loading=!0,this.$tuos.auth.update(e).then((e=>{this.serv=e})).catch((e=>{this.serv=e})).finally((async()=>{this.loading=!1})))}}},Be=m("label",null,"New Password",-1),Ee=m("label",null,"Confirm New Password",-1),Le={type:"submit",value:"SAVE"};Fe.render=function(e,t,a,n,s,o){const r=c("server-response-handler"),l=c("base-form"),p=c("userdata-skeleton-loader"),f=v("btnload");return i(),u(w,null,["success"==e.userdataState?(i(),u(l,{key:0,onOnSubmit:o.check,res:e.serv},{default:d((()=>[Be,m("input",{type:"password",name:"npass",disabled:e.loading},null,8,["disabled"]),Ee,m("input",{type:"password",name:"cnpass",disabled:e.loading},null,8,["disabled"]),m(r,{res:e.serv},null,8,["res"]),y(m("button",Le,null,512),[[f,e.loading]])])),_:1},8,["onOnSubmit","res"])):h("",!0),m(p,{"extend-class":"auto-container"})],64)};const je={components:{CpForm:Fe}},Ve=m("div",{class:"title"},"Change Account Password",-1);je.render=function(e,t,a,n,s,o){const r=c("cp-form");return i(),u("div",null,[Ve,m(r)])};const Ie={name:"SettingsEditProfileForm",components:{BaseForm:Ce},data:()=>({loading:!1,odata:{},data:{email:"",phone:""},serv:{type:"",message:""}}),computed:l({},_(["userdata","userdataState"])),methods:{check(e){e=this.$tuos.auth.filterUpdateData(this.odata,e),this.loading=!0,this.$tuos.auth.update(e).then((e=>{this.serv=e})).catch((e=>{this.serv=e})).finally((async()=>{await this.fetchUserData(),this.loading=!1}))},userdataHandler(e){this.odata=e,this.data.email=e.email,this.data.phone=e.phone}},watch:{userdata:{handler:"userdataHandler",immediate:!0}}},Re=m("label",null,"Email",-1),Ne=m("label",null,"Phone",-1),We={type:"submit",value:"SAVE"};Ie.render=function(e,t,a,n,s,o){const r=c("server-response-handler"),l=c("base-form"),p=c("userdata-skeleton-loader"),f=v("btnload");return i(),u(w,null,["success"==e.userdataState?(i(),u(l,{key:0,onOnSubmit:o.check,res:e.serv},{default:d((()=>[Re,y(m("input",{type:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=t=>e.data.email=t),disabled:e.loading},null,8,["disabled"]),[[$,e.data.email]]),Ne,y(m("input",{type:"tel",name:"phone","onUpdate:modelValue":t[2]||(t[2]=t=>e.data.phone=t),disabled:e.loading},null,8,["disabled"]),[[$,e.data.phone]]),m(r,{res:e.serv},null,8,["res"]),y(m("button",We,null,512),[[f,e.loading]])])),_:1},8,["onOnSubmit","res"])):h("",!0),m(p,{"extend-class":"auto-container"})],64)};const Me={components:{AbForm:Ie}},ze=m("div",{class:"title"},"Account Bindings",-1);Me.render=function(e,t,a,n,s,o){const r=c("ab-form");return i(),u("div",null,[ze,m(r)])};const Ge={},Ye={class:"p-user-profile"},Je=m("h1",null,"User Profile",-1);Ge.render=function(e,t){return i(),u("div",Ye,[Je])};const Ke=x({history:D(),routes:[{path:"/",component:E,children:[{path:"",component:W},{path:"login",component:W},{path:"register",component:X},{path:"logout",component:ce}]},{path:"/user",component:de,children:[{path:"/me",component:Ge},{path:"/home",component:me},{path:"/settings",component:fe,children:[{path:"",component:qe},{path:"bindings",component:Me},{path:"password",component:je}]}]}]}),Qe={name:"defaultLayout"},Xe={class:"lo-default"};Qe.render=function(e,t,a,n,s,o){return i(),u("div",Xe,[f(e.$slots,"default")])};const Ze={name:"layoutUser"};Ze.render=function(e,t,a,n,s,o){const r=c("wf1-header"),l=c("wf1-container");return i(),u(w,null,[m(r),m(l,null,{default:d((()=>[f(e.$slots,"default")])),_:3})],64)};var et={install:e=>{e.component("lo-default",Qe),e.component("lo-user",Ze)}};const tt={props:{ConfirmText:{type:String,default:"Confirm"},CancelText:{type:String,default:"Cancel"},title:{type:String,default:"Confirm"},message:{type:String,default:"Are you sure?"}},data:()=>({dialog:!0}),methods:{closeDialog(){this.$emit("onClose"),this.dialog=!1},cancelDialog(){this.$emit("onCancel"),this.dialog=!1},confirmDialog(){this.$emit("onConfirm"),this.dialog=!1}}},at={key:0,class:"c-confirm-dialog-container"},nt={class:"dialog"},st={class:"title"},ot={class:"message"},rt={class:"actions"};tt.render=function(e,t,a,n,s,o){return e.dialog?(i(),u("dialog",at,[m("div",nt,[m("div",st,[m("span",null,p(a.title),1),m("button",{onClick:t[1]||(t[1]=(...e)=>o.cancelDialog&&o.cancelDialog(...e))},"x")]),m("div",ot,p(a.message),1),m("div",rt,[m("button",{onClick:t[2]||(t[2]=(...e)=>o.cancelDialog&&o.cancelDialog(...e))},p(a.CancelText),1),m("button",{onClick:t[3]||(t[3]=(...e)=>o.confirmDialog&&o.confirmDialog(...e))},p(a.ConfirmText),1)])])])):h("",!0)};const lt={name:"SkeletonLoader",props:{extendClass:{type:String,default:""}},data:()=>({h:!0,sh:!0,c:!0,b:!0})},it={class:"top"},ut={key:0,class:"h"},ct={key:1,class:"sh"},dt={key:0,class:"body"};lt.render=function(e,t,a,n,s,o){return i(),u("div",{class:`skeleton-loader${e.c?" skeleton-container":""} ${a.extendClass}`},[m("div",it,[e.h?(i(),u("div",ut)):h("",!0),e.sh?(i(),u("div",ct)):h("",!0)]),e.b?(i(),u("div",dt)):h("",!0)],2)};const mt={name:"UserdataSkeletonLoader",props:{extendClass:{extendClass:{type:String,default:""}}},computed:l({},_(["userdataState"]))},pt=m("div",{class:"btn"},[m("i",{class:"fa fa-refresh"}),m("span",null,"Failed to get userdata!"),m("span",null,"Click to fetch userdata again.")],-1);mt.render=function(e,t,a,n,s,o){const r=c("skeleton-loader");return i(),u(w,null,["fetching"==e.userdataState?(i(),u(r,{key:0,"extend-class":a.extendClass},null,8,["extend-class"])):h("",!0),"error"==e.userdataState?(i(),u("div",{key:1,class:`${a.extendClass} fetch-userdata-btn`,onClick:t[1]||(t[1]=(...t)=>e.fetchUserData&&e.fetchUserData(...t))},[pt],2)):h("",!0)],64)};const ht={props:{res:Object,extendClass:{type:String,default:""}},data:()=>({message:"",type:"",prompt:!0}),methods:{resHandler(e){this.message=e.message,this.type=e.type,this.prompt=!0}},watch:{res:{handler:"resHandler",immediate:!0}}};ht.render=function(e,t,a,n,s,o){return e.type?(i(),u("div",{key:0,class:`c-server-response-handler ${a.extendClass}`},[m("div",{type:e.type,class:""+(e.prompt?"":"out")},[m("div",null,p(e.message),1),m("i",{class:"fa fa-times-circle",onClick:t[1]||(t[1]=t=>e.prompt=!1),"aria-hidden":"true"})],10,["type"])],2)):h("",!0)};var ft={install:e=>{e.component("confirm-dialog",tt),e.component("skeleton-loader",lt),e.component("userdata-skeleton-loader",mt),e.component("server-response-handler",ht)}},gt=(e,t)=>{var a;const n=null!=(a=t.value)&&a;e.innerHTML=n?'<i class="fa fa-spinner fa-spin"></i>':e.value,n?e.setAttribute("disabled",!0):e.removeAttribute("disabled")},vt={install:(e,t)=>{e.directive("btnload",gt)}};const yt={name:"Wf1Header",data:()=>({menu:!1})},bt={wf1:""},wt={class:"header"},kt={class:"brand__group"},St=m("li",{class:"search"},[m("form",{action:"/search"},[m("input",{type:"text",placeholder:"Search",name:"q"}),m("button",{type:"submit"},[m("i",{class:"fa fa-search"})])])],-1),Ct={class:"main__navi"},$t=m("i",{class:"fa fa-home"},null,-1),_t=m("i",{class:"fa fa-cog"},null,-1),xt=m("i",{class:"fa fa-caret-down"},null,-1),Dt={class:"menu-content"},Ot={class:"match-width"},Pt={class:"items"},At=m("i",{class:"fa fa-user-circle"},null,-1),Tt=m("span",null,"Profile",-1),Ut=m("i",{class:"fa fa-sign-out"},null,-1),qt=m("span",null,"Logout",-1);yt.render=function(e,t,a,n,s,o){const r=c("router-link");return i(),u(O,{to:"#header"},[m("header",bt,[m("div",wt,[f(e.$slots,"default",{},(()=>[m("ul",kt,[m("li",{class:"title",onClick:t[1]||(t[1]=(...t)=>e.gotoHome&&e.gotoHome(...t))},"Tuos"),St]),m("ul",Ct,[m("li",null,[m(r,{to:"/home",onClick:t[2]||(t[2]=t=>e.menu=!1)},{default:d((()=>[$t])),_:1})]),m("li",null,[m(r,{to:"/settings",onClick:t[3]||(t[3]=t=>e.menu=!1)},{default:d((()=>[_t])),_:1})]),m("li",null,[m("div",{class:"menu",active:e.menu},[m("a",{href:"#",class:"toggle-menu",onClick:t[4]||(t[4]=t=>e.menu=!e.menu)},[xt]),m("div",Dt,[m("div",Ot,[m("div",Pt,[m(r,{to:"/me",class:"item",onClick:t[5]||(t[5]=t=>e.menu=!e.menu)},{default:d((()=>[At,Tt])),_:1}),m(r,{to:"/logout",class:"item"},{default:d((()=>[Ut,qt])),_:1})])])])],8,["active"])])])]))])])])};const Ht={name:"Wf1Content"},Ft={"wf1-container":""},Bt={class:"main"},Et={class:"content"};Ht.render=function(e,t,a,n,s,o){return i(),u("div",Ft,[m("div",Bt,[m("div",Et,[f(e.$slots,"default")])])])};const Lt={name:"Wf1SidebarItem",props:{to:String|Object,icon:{type:String,default:"fa fa-home"},name:{type:String,default:"Link"}}};Lt.render=function(e,t,a,n,s,o){const r=c("router-link");return i(),u(r,{to:a.to},{default:d((()=>[f(e.$slots,"default",{},(()=>[m("i",{class:a.icon},null,2),m("span",null,p(a.name),1)]))])),_:3},8,["to"])};const jt={},Vt={class:"sidebar"};jt.render=function(e,t){return i(),u("div",Vt,[f(e.$slots,"default")])};const It={name:"Wf1Main"},Rt={class:"main-activity"};It.render=function(e,t,a,n,s,o){return i(),u("div",Rt,[f(e.$slots,"default")])};const Nt={name:"Wf1"},Wt={class:"lo-user-container","lo-user":""},Mt={class:"header"},zt={class:"brand__group"},Gt=m("li",{class:"search"},[m("form",{action:""},[m("input",{type:"text",placeholder:"Search",name:"q"}),m("button",{type:"submit"},[m("i",{class:"fa fa-search"})])])],-1),Yt={class:"main__navi"},Jt=m("i",{class:"fa fa-home"},null,-1),Kt=m("i",{class:"fa fa-cog"},null,-1),Qt=m("i",{class:"fa fa-caret-down"},null,-1),Xt={class:"menu-content"},Zt={class:"match-width"},ea={class:"items"},ta=m("i",{class:"fa fa-user-circle"},null,-1),aa=m("span",null,"Profile",-1),na=m("i",{class:"fa fa-sign-out"},null,-1),sa=m("span",null,"Logout",-1),oa={class:"lo-user-container"},ra={class:"main"};Nt.render=function(e,t,a,n,s,o){const r=c("router-link");return i(),u(w,null,[(i(),u(O,{to:"#header"},[m("header",Wt,[m("div",Mt,[m("ul",zt,[m("li",{class:"title",onClick:t[1]||(t[1]=(...t)=>e.gotoHome&&e.gotoHome(...t))},"Tuos"),Gt]),m("ul",Yt,[m("li",null,[m(r,{to:"/home",onClick:t[2]||(t[2]=t=>e.menu=!1)},{default:d((()=>[Jt])),_:1})]),m("li",null,[m(r,{to:"/settings",onClick:t[3]||(t[3]=t=>e.menu=!1)},{default:d((()=>[Kt])),_:1})]),m("li",null,[m("div",{class:"menu",active:e.menu},[m("a",{href:"#",class:"toggle-menu",onClick:t[4]||(t[4]=t=>e.menu=!e.menu)},[Qt]),m("div",Xt,[m("div",Zt,[m("div",ea,[m(r,{to:"/me",class:"item",onClick:t[5]||(t[5]=t=>e.menu=!e.menu)},{default:d((()=>[ta,aa])),_:1}),m(r,{to:"/logout",class:"item"},{default:d((()=>[na,sa])),_:1})])])])],8,["active"])])])])])])),m("div",oa,[m("div",ra,[f(e.$slots,"default")])])],64)};var la={install:e=>{e.component("wf1-header",yt),e.component("wf1-container",Ht),e.component("wf1-sidebar-item",Lt),e.component("wf1-sidebar",jt),e.component("wf1-main",It),e.component("wf1",Nt)}},ia={install:(e,t)=>{e.use(la)}};const ua=new P({storage:window.localStorage}),ca=A.get("vuex")||{},da={accessToken:"",authenticated:!1,userdataState:"error",userdata:{_id:"",user:"",name:"",email:"",phone:""}};var ma={store:T({plugins:[U(),ua.plugin],state:(()=>{const e={};for(let t in da)e[t]=ca[t]||da[t];return e})(),mutations:(()=>{const e={};for(let t in da)e[t]=(e,a)=>{e[t]=a};return e})()}),state:da};var pa={proto:function(e){const{host:t}=e,a=()=>"Bearer "+(A.get("vuex").accessToken||""),n={login:"/api/auth/login",register:"/api/auth/register",user:"/api/user",users:"/api/users"},s=e=>t+n[e];return{login:async(e={})=>{const t={method:"POST",url:s("login"),headers:{"content-type":"application/json"},data:e};return await H.request(t).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},register:async(e={})=>{const t={method:"POST",url:s("register"),headers:{"content-type":"application/json"},data:e};return await H.request(t).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},userMe:async()=>{const e={method:"GET",url:s("user"),headers:{authorization:a()}};return await H.request(e).then((e=>e.data)).catch((e=>({type:"error",message:"Unknown error occur.",e:e})))},update:async(e={})=>{const t={method:"PUT",url:s("user"),headers:{"content-type":"application/json",authorization:a()},data:e};return await H.request(t).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},filterUpdateData:(e,t)=>{const a={};for(let n in t)String(e[n])!=String(t[n])&&(a[n]=t[n]);return a},filterUpdatePasswordData:e=>q.pick(e,["pass","npass"])}},mixin:{computed:l({},_(["accessToken","authenticated"])),methods:{accessTokenHandler(){},accessTokenValidateChange(e){e&&"string"==typeof e&&e.length>0?this.$store.commit("authenticated",!0):this.$store.commit("authenticated",!1)},onAuthStateChanged(){},resetStore(){A.clearAll();const e=ma.state;for(let t in e)this.$store.commit(t,e[t])},async authFormLogin(e){this.loading=!0,await this.$tuos.auth.login(e).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))},async authFormRegister(e){Boolean(e.pass)&&Boolean(e.cpass)&&e.pass==e.cpass?(this.loading=!0,await this.$tuos.auth.register(q.omit(e,["cpass"])).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))):this.serv={type:"error",message:"Password doesn't match"}},gotoHome(){try{window.location.href="/"}catch{this.$router.push("/")}},async fetchUserData(){return this.$store.commit("userdataState","fetching"),await this.$tuos.auth.userMe().then((e=>{if("error"==e.type)throw Error("Error Server Response");const t=q.pick(e,["user","name","email","_id","phone"]);return this.$store.commit("userdata",t),this.$store.commit("userdataState","success"),t})).catch((e=>{console.error(e),this.$store.commit("userdataState","error")}))}},watch:{accessToken:{handler:"accessTokenHandler",immediate:!0},accessToken:{handler:"accessTokenValidateChange",immediate:!0},authenticated:{handler:"onAuthStateChanged",immediate:!0}}}},ha={install:(e,n)=>{const s=n.host||"",o=n.devHost||s,r=s;var i;i=l({},n),n=t(i,a({prodHost:s,devHost:o,host:r})),e.config.globalProperties.$tuos={auth:pa.proto(n)},e.mixin(pa.mixin)}};const fa=F(B);fa.use(ma.store),fa.use(Ke),fa.use(ft),fa.use(et),fa.use(vt),fa.use(ia),fa.use(ha,{devHost:"http://localhost:8080"}),fa.mount("#app");
