var e=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(i,o,t)=>o in i?e(i,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[o]=t,u=(e,i)=>{for(var o in i||(i={}))r.call(i,o)&&s(e,o,i[o]);if(t)for(var o of t(i))a.call(i,o)&&s(e,o,i[o]);return e};import{o as l,c as n,r as c,w as m,a as p,t as d,b as g,d as f,e as h,f as q,g as b,h as v,K as y,i as C,j as L,p as w,k as D,l as k,m as T,V as _,s as S,n as $,q as A,u as O,_ as P,C as j,v as x}from"./vendor.eeddd55a.js";const H={name:"App"};H.render=function(e,i,o,t,r,a){const s=c("router-view");return l(),n(s)};const U={};U.render=function(e,i){const o=c("router-view"),t=c("lo-default");return l(),n(t,null,{default:m((()=>[p(o)])),_:1})};const F={name:"AuthLoginRegisterForm",props:{title:String,res:Object},data:()=>({xdata:{type:"",message:""},prompt:!1}),methods:{submit(e){const i={},o=e.srcElement.getElementsByTagName("input");for(let t=0;t<o.length;t++)if("submit"!=o[t].type){const e=o[t].name,r=o[t].value;i[e]=r}this.prompt=!1,this.$emit("onSubmit",i)},resHandler(e){this.xdata=e,this.prompt=!0,window.scrollTo({top:0,behavior:"smooth"})}},watch:{res:{handler:"resHandler",immediate:!0}}},B={class:"p-auth"},E={key:0,class:"prompts"},M={class:"notes"};F.render=function(e,i,o,t,r,a){return l(),n("div",B,[p("h1",null,d(o.title),1),p("form",{onSubmit:i[2]||(i[2]=h(((...e)=>a.submit&&a.submit(...e)),["prevent"]))},[o.res&&o.res.type?(l(),n("div",E,[p("div",{type:o.res.type,class:e.prompt?"":"out"},[p("div",null,d(o.res.message),1),p("i",{class:"fa fa-times-circle",onClick:i[1]||(i[1]=i=>e.prompt=!1),"aria-hidden":"true"})],10,["type"])])):g("",!0),f(e.$slots,"form")],32),p("div",M,[f(e.$slots,"notes")])])};const R={components:{AuthForm:F},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},V=p("input",{type:"text",placeholder:"Username",name:"user",autocomplete:"",required:""},null,-1),I=p("input",{type:"password",placeholder:"Password",name:"pass",autocomplete:"",required:""},null,-1),N={type:"submit",value:"Authenticate"},z=v(" By logging in, you agree to our "),G=v("Terms and Agreements"),K=v(" Do not have an account? "),J=v("Register");R.render=function(e,i,o,t,r,a){const s=c("router-link"),u=c("auth-form"),d=q("btnload");return l(),n(u,{title:"Login",onOnSubmit:e.authFormLogin,res:e.serv},{form:m((()=>[V,I,b(p("button",N,null,512),[[d,e.loading]])])),notes:m((()=>[p("p",null,[z,p(s,{to:"/"},{default:m((()=>[G])),_:1})]),p("p",null,[K,p(s,{to:"/register"},{default:m((()=>[J])),_:1})])])),_:1},8,["onOnSubmit","res"])};const Q={components:{AuthForm:F},data:()=>({loading:!1,serv:{type:"",message:""}}),methods:{onAuthStateChanged(e){e&&this.$router.push("/home")}}},W=p("input",{type:"text",name:"name",placeholder:"Name",required:""},null,-1),X=p("input",{type:"text",name:"user",placeholder:"Username",required:""},null,-1),Y=p("input",{type:"email",name:"email",placeholder:"Email",required:""},null,-1),Z=p("input",{type:"tel",name:"phone",placeholder:"Phone",required:""},null,-1),ee=p("input",{type:"password",name:"pass",placeholder:"Password",autocomplete:"",required:""},null,-1),ie=p("input",{type:"password",name:"cpass",placeholder:"Confirm Password",autocomplete:"",required:""},null,-1),oe={type:"submit",value:"Create Account"},te=v("By creating an account, you agree to our "),re=v("Terms and Agreements"),ae=v("Already have an account? "),se=v("Login");Q.render=function(e,i,o,t,r,a){const s=c("router-link"),u=c("auth-form"),d=q("btnload");return l(),n(u,{title:"Register",onOnSubmit:e.authFormRegister,res:e.serv},{form:m((()=>[W,X,Y,Z,ee,ie,b(p("button",oe,null,512),[[d,e.loading]])])),notes:m((()=>[p("p",null,[te,p(s,{to:"/"},{default:m((()=>[re])),_:1})]),p("p",null,[ae,p(s,{to:"/login"},{default:m((()=>[se])),_:1})])])),_:1},8,["onOnSubmit","res"])};const ue={created(){this.resetStore(),this.$router.push("/")}},le=p("h1",null,"Logout",-1);ue.render=function(e,i,o,t,r,a){return l(),n("div",null,[le])};const ne={};ne.render=function(e,i){const o=c("router-view"),t=c("lo-user");return l(),n(t,null,{default:m((()=>[p(o)])),_:1})};const ce={async created(){const e=await this.$tuos.auth.userMe();console.log(e)}},me=p("h1",null,"Home sweet home",-1),pe=v("Logout");ce.render=function(e,i,o,t,r,a){const s=c("router-link");return l(),n("div",null,[me,p(s,{to:"/logout"},{default:m((()=>[pe])),_:1})])};const de={};de.render=function(e,i){const o=c("router-view"),t=c("lo-settings");return l(),n(t,null,{default:m((()=>[p(o)])),_:1})};const ge={},fe=p("div",null,[p("h1",null,"Profile"),p("div",null,[p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis.")]),p("div",null,[p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis.")]),p("div",null,[p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis.")]),p("div",null,[p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis."),p("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus enim quidem corporis recusandae mollitia eius illum, laboriosam obcaecati, fuga corrupti repellendus eligendi neque labore facere quisquam tempore fugit magni. Corporis.")])],-1);ge.render=function(e,i,o,t,r,a){return l(),n(y,null,[fe],1024)};const he=C({history:L(),routes:[{path:"/",component:U,children:[{path:"",component:R},{path:"login",component:R},{path:"register",component:Q},{path:"logout",component:ue}]},{path:"/user",component:ne,children:[{path:"/home",component:ce},{path:"/settings",component:de,children:[{path:"",component:ge}]}]}]});const qe={name:"defaultLayout"},be=k("data-v-e2523158");w("data-v-e2523158");const ve={class:"lo-default"},ye={class:"main"};D();const Ce=be(((e,i,o,t,r,a)=>(l(),n("div",ve,[p("div",ye,[f(e.$slots,"default",{},void 0,!0)])]))));qe.render=Ce,qe.__scopeId="data-v-e2523158";const Le={name:"layoutUser"},we={class:"lo-user"},De={class:"brand__search"},ke=T('<li class="search"><form action=""><input type="text" placeholder="Search" name="q"><button type="Submit"><i class="fa fa-search"></i></button></form></li>',1),Te={class:"main__navi"},_e=p("i",{class:"fa fa-home"},null,-1),Se=p("i",{class:"fa fa-cog"},null,-1),$e={class:"main"};Le.render=function(e,i,o,t,r,a){const s=c("router-link");return l(),n("div",we,[p("header",null,[p("ul",De,[p("li",{class:"brand",onClick:i[1]||(i[1]=i=>e.$router.go(0))},"Tuos"),ke]),p("ul",Te,[p("li",null,[p(s,{to:"/home"},{default:m((()=>[_e])),_:1})]),p("li",null,[p(s,{to:"/settings"},{default:m((()=>[Se])),_:1})])])]),p("div",$e,[f(e.$slots,"default")])])};const Ae={},Oe={class:"lo-settings"},Pe={class:"left-nav"},je=v("Edit Profile"),xe=v("Home"),He={class:"main"};Ae.render=function(e,i,o,t,r,a){const s=c("router-link");return l(),n("div",Oe,[p("div",Pe,[p(s,{to:"/settings"},{default:m((()=>[je])),_:1}),p(s,{to:"/home"},{default:m((()=>[xe])),_:1})]),p("div",He,[f(e.$slots,"default")])])};var Ue={install:e=>{e.component("lo-default",qe),e.component("lo-user",Le),e.component("lo-settings",Ae)}},Fe=(e,i)=>{var o;const t=null!=(o=i.value)&&o;e.innerHTML=t?'<i class="fa fa-spinner fa-spin"></i>':e.value,t?e.setAttribute("disabled",!0):e.removeAttribute("disabled")},Be={install:(e,i)=>{e.directive("btnload",Fe)}};const Ee=new _({storage:window.localStorage}),Me=S.get("vuex")||{},Re={accessToken:"",authenticated:!1};var Ve={store:$({plugins:[A(),Ee.plugin],state:(()=>{const e={};for(let i in Re)e[i]=Me[i]||Re[i];return e})(),mutations:(()=>{const e={};for(let i in Re)e[i]=(e,o)=>{e[i]=o};return e})()}),state:Re};var Ie={proto:function(e){const{host:i}=e,o={login:"/api/auth/login",register:"/api/auth/register",userMe:"/api/user"},t=e=>i+o[e];return{login:async(e={})=>{const i={method:"POST",url:t("login"),headers:{"content-type":"application/json"},data:e};return await j.request(i).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},register:async(e={})=>{const i={method:"POST",url:t("register"),headers:{"content-type":"application/json"},data:e};return await j.request(i).then((e=>e.data)).catch((()=>({type:"error",message:"Unknown error occur."})))},userMe:async()=>{const e=S.get("vuex").accessToken||"",i={method:"GET",url:t("userMe"),headers:{authorization:"Bearer "+e}};return await j.request(i).then((e=>e.data)).catch((e=>({type:"error",message:"Unknown error occur.",e:e})))}}},mixin:{computed:u({},O(["accessToken","authenticated"])),methods:{accessTokenHandler(){},accessTokenValidateChange(e){e&&"string"==typeof e&&e.length>0?this.$store.commit("authenticated",!0):this.$store.commit("authenticated",!1)},onAuthStateChanged(){},resetStore(){S.clearAll();const e=Ve.state;for(let i in e)this.$store.commit(i,e[i])},async authFormLogin(e){this.loading=!0,await this.$tuos.auth.login(e).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))},async authFormRegister(e){Boolean(e.pass)&&Boolean(e.cpass)&&e.pass==e.cpass?(this.loading=!0,await this.$tuos.auth.register(P.omit(e,["cpass"])).then((e=>{this.serv=e,this.$store.commit("accessToken",e.token)})).catch((()=>this.serv={type:"error",message:"Unknown error occur."})).finally((()=>{this.loading=!1}))):this.serv={type:"error",message:"Password doesn't match"}}},watch:{accessToken:{handler:"accessTokenHandler",immediate:!0},accessToken:{handler:"accessTokenValidateChange",immediate:!0},authenticated:{handler:"onAuthStateChanged",immediate:!0}}}},Ne={install:(e,t)=>{const r=t.host||"",a=t.devHost||r,s=r;var l;l=u({},t),t=i(l,o({prodHost:r,devHost:a,host:s})),e.config.globalProperties.$tuos={auth:Ie.proto(t)},e.mixin(Ie.mixin)}};const ze=x(H);ze.use(Ve.store),ze.use(he),ze.use(Ue),ze.use(Be),ze.use(Ne,{devHost:"http://localhost:8080"}),ze.mount("#app");
